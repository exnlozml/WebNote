<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf_8">
        <title>Document</title>
    </head>

    <body>
        <ul class="nav">
            <li>榴莲</li>
            <li>臭豆腐</li>
            <li>鲱鱼罐头</li>
            <li>大猪蹄子</li>
        </ul>
        <script>
            // 闭包应用-点击li输出当前li的索引号
            // 1.利用动态添加属性的方式
            var lis = document.querySelector('.nav').querySelectorAll('li');
            for(var i = 0; i < lis.length; i++) {
                lis[i].index = i;
                lis[i].onclick = function() {
                    // console.log(i);
                    console.log(this.index);
                }
            }
            // 2.利用闭包的方式得到当前小li的索引号
            for(var i = 0; i < lis.length; i++) {
                // 利用for循环创建4个立即执行函数
                // 立即执行函数也成为小闭包因为立即执行函数里面的任何一个函数都可以使用它的i这个变量
                (function (i) {
                    // console.log(i);
                    lis[i].onclick = function () {
                        console.log(i);
                    }
                })(i);
            }
        </script>
    </body>
</html>