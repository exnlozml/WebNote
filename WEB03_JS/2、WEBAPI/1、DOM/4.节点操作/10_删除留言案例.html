<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			a {
				text-decoration: none;
				color: #333;
				font-size: 14px;
			}
			div {
				position: relative;
				margin: 100px;
				/* border: 1px solid red; */
			}
			ul li {
				background-color: #ffefd5;
				margin: 5px auto;
				color: #CCCCCC;
				height: 28px;
				line-height: 28px;
			}
			ul li a {
				float: right;
				padding-right: 5px;
			}
		</style>
	</head>
	<body>
		<div>
			<textarea rows="10" cols="50"></textarea>
			<input type="button" value="发布" />
			<ul>

			</ul>
		</div>
		<script type="text/javascript">
			//1.获取元素
			var text = document.querySelector('textarea');
			var ipt = document.querySelector('input');
			var ul = document.querySelector('ul');
			//2.注册事件
			ipt.onclick = function() {
				if (text.value == '') {
					alert('请输入内容');
					return false;
				} else {
					console.log(text.value);
					//(1).创建元素
					var li = document.createElement('li');
					var del=document.createElement('a');
					//先有li 才能赋值
					li.innerHTML=text.value+"<a href='javascript:;'>删除</a>";
					//(2).添加元素
					ul.insertBefore(li, ul.children[0]); // 添加到第一个
					text.value=''; // 发布完成后清空文本域的内容
					//(3).删除元素 删除的是当前链接的li 它的父亲
					var as=document.querySelectorAll('a');
					for ( var i=0;i<as.length;i++) {
						as[i].onclick=function () {
							//node.removeChild(child); 删除的是li 当前a所在的li this.parentNode;
							ul.removeChild(this.parentNode);
						}
					}
				}
			}
			
		</script>
	</body>
</html>
